experiment:
  name: "trimodal_scifact"
  output_dir: "./outputs/experiments/trimodal"

# Single dataset (scifact)
dataset:
  name: "scifact"
  root: "./data/scifact/processed/beir"
  split_preference: ["test", "dev", "validation", "train"]

# Alternative: Multiple datasets (commented)
# datasets:
#   - name: "scifact"
#     root: "./data/scifact/processed/beir"
#     split_preference: ["test", "dev", "validation", "train"]
#   - name: "fiqa"
#     root: "./data/fiqa/processed/beir"
#     split_preference: ["test", "dev", "validation", "train"]
#   - name: "nfcorpus"
#     root: "./data/nfcorpus/processed/beir"
#     split_preference: ["test", "dev", "validation", "train"]

retrievers:
  - name: "trimodal_heuristic"
    type: "hybrid"
    vectorizer:
      type: "tri_modal"
      semantic:
        model: "sentence-transformers/all-MiniLM-L6-v2"
        query_prefix: ""
        doc_prefix: ""
      tfidf:
        dim: 1000
        min_df: 1
        backend: "sklearn"
      graph:
        model: "BAAI/bge-large-en-v1.5"
        ner_backend: "scispacy"
        ner_use_noun_chunks: true
        ner_batch_size: 128
        ner_n_process: 4
        min_df: 2
    fusion:
      strategy: "weighted_cosine"
      policy: "heuristic"  # Adaptive weights based on query characteristics
    reranker:
      type: "tri_modal"
      topk_first: 150
    index:
      type: "faiss"
      factory: null  # FlatIP
      metric: "ip"

metrics:
  - "nDCG"
  - "MRR"
  - "MAP"
  - "Recall"
  - "Precision"

ks: [1, 3, 5, 10]

output_formats:
  - "csv"
  - "json"

